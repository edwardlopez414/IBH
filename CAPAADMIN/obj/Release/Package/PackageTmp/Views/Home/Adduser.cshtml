
@{
    ViewBag.Title = "Adduser";
    Layout = "~/Views/Shared/_Layout.cshtml";
<h2 class="text-black border-bottom border-info shadow-lg mt-05">AÑADIR USUARIO</h2>
}

<div  class="m-2 mt-5 h-100 border border-3 text-black border-dark rounded p-3 ">
    <div class="row mt-2">
        <div class="col">
            <div class="mb-3 ">
                <label for="exampleInputEmail1" class="form-label border-bottom border-info">Nombre Completo</label>
                <input type="text" class=" shadow form-control " id="nombrecompleto" required aria-describedby="Descrip">
            </div>
            <div class="mb-3 ">
                <label for="exampleInputEmail1" class="form-label border-bottom border-info">Direccion</label>
                <input type="text" class=" shadow form-control " id="direccion" required aria-describedby="Descrip">
            </div>
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label border-bottom border-info">Edad</label>
                <input type="number" class=" shadow form-control " required id="edad">
            </div>

            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label border-bottom border-info">Numero Telefonico</label>
                <input type="number" class=" shadow form-control " required id="numero">
            </div>
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label border-bottom border-info">Contrasena</label>
                <input type="password" class=" shadow form-control " required id="contrasena">
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label border-bottom border-info">Usuario</label>
                <input type="text" class=" shadow form-control" required id="usuario">
            </div>
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label border-bottom border-info">Cedula</label>
                <input type="text" class=" shadow form-control " required id="Cedula">
            </div>
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label border-bottom border-info">Email</label>
                <input type="Text" class=" shadow form-control " required id="email">
            </div>
            <div class="row mb-3">
                <div class="row ms-1 mb-3">
                    <label for="exampleInputPassword1" class="form-label border-bottom border-info ">Fecha Bautismo</label>
                    <input type="date" class=" shadow form-control " required id="Fbautismo">
                </div>

                <div class="row ms-1 mb-3">
                    <label for="exampleInputPassword1" class="form-label border-bottom border-info">Fecha Ingreso</label>
                    <input type="date" class=" shadow form-control " required id="Fingreso">
                </div>
            </div>
        </div>
    </div>
  
  

      
    <div class="row mb-5">
      
        <div class="col">
            <span>Sexo</span>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefaults1">
                <label class="form-check-label" for="flexRadioDefaults1">
                    Masculino
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefaults2" checked>
                <label class="form-check-label" for="flexRadioDefaults2">
                    Femenino
                </label>
            </div>
        </div>
       
        <div class="col">
            <span>Rol</span>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault1" id="flexRadioDefault1">
                <label class="form-check-label" for="flexRadioDefault1">
                    Miembro
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault1" id="flexRadioDefault2" checked>
                <label class="form-check-label" for="flexRadioDefault2">
                    Lider
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault1" id="flexRadioDefault3" checked>
                <label class="form-check-label" for="flexRadioDefault3">
                    Diacono
                </label>
            </div>
        </div>
    </div>
    <div class="centerbutton">
        <button type="submit" onclick=" adduser()" class="mb-3 shadow w-50 m-auto btn btn-primary">Aceptar</button>
    </div>
</div>

<script>

    function restablecer() {
        let datasdf;
        if (datasdf = document.getElementById("flexRadioDefault1").checked) {
         return  1
        } else if (datasdf = document.getElementById("flexRadioDefault2").checked) {
           return  2
        }else return  3
    }


    function define_sexo() {
        let datasdf;
        let response;
        if (datasdf = document.getElementById("flexRadioDefaults1").checked) {
            return response = "M"
        } else return response = "F"
    }
    function adduser() {


        var Miembro = {
            usuario: $("#usuario").val(),
            Edad: $("#edad").val(),
            Direccion: $("#direccion").val(),
            contrasena: "jbjbjhbkjbjbkj",
            activo: "1",
            Id_rol: restablecer(),
            clave: "ghvhgfhgfhgdhgvhghgkjlkhkhhg",
            Email: $("#email").val(),
            Fecha_bautismo: $("#Fbautismo").val(),
            Fecha_ingreso: $("#Fingreso").val(),
            Nombre_Completo: $("#nombrecompleto").val(),
            Nro_contacto: $("#numero").val(),
            Sexo: define_sexo(),
            Cedula: $("#Cedula").val()
        };

        if (Miembro.usuario == "")
        {
            alert("Campo Usuario vacio")
        }
        else if (Miembro.Edad == "") {
            alert("Campo Edad vacio")
        } else if (Miembro.Direccion == "") {
            alert("Campo Direccion vacio")
        } else if (Miembro.Email== "") {
            alert ("Campo Email vacio")
        } else if (Miembro.Fecha_bautismo == "") {
            alert("Campo Fecha_bautismo vacio")
        } else if (Miembro.Fecha_ingreso == "") {
            alert("Campo Fecha_ingreso vacio")
        } else if (Miembro.Nombre_Completo == "") {
            alert("Campo Nombre_Completo vacio")
        }else if (Miembro.Nro_contacto == "") {
            alert("campo Numero Telefonico vacio")
        } else if (Miembro.Cedula == "") {
            alert("Campo Cedula vacio")
        }
        else {
            console.log(Miembro);
            var url2 = "@Url.Action("AddMiembro", "Home")";
            data = { obj: Miembro };
            $.post(url2, data).done(function (data) {
                console.log(data);
            });
            window.location.reload();
        }
    }

</script>