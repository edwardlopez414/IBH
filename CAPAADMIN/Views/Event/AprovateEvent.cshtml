
@{
    ViewBag.Title = "AprovateEvent";
    Layout = "~/Views/Shared/_Layout.cshtml";
    <h2 class="text-black border-bottom border-info shadow-lg" style="margin-top:0.3em;">APROBAR EVENTO</h2>
}
<div class="btn_align" style="text-align:center">
    <div class="btn-group" style="display:inline-block; margin:0 auto; margin-bottom:1rem;" role="group" aria-label="Basic radio toggle button group">
        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
        <label class="btn btn-outline-primary" for="btnradio1">Eventos a aprobar</label>

        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
        <label class="btn btn-outline-primary" for="btnradio2">Eventos aprobados</label>

        <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
        <label class="btn btn-outline-primary" for="btnradio3">Eventos rechazados</label>

        <input type="radio" class="btn-check" name="btnradio" id="btnradio4" autocomplete="off">
        <label class="btn btn-outline-primary" for="btnradio4">Eventos culminados</label>
    </div>
</div>


<button id="mostrarevent"  onclick="mostrar()" style="display:none">click</button>

<div id="eventpend"  class="container"></div>

<div id="eventaprovated" style="display:none;" class="container"></div>

<div id="eventre" style="display:none;" class="container"></div>

<div id="eventcomplete" style="display:none;" class="container"></div>
<script>

     
    var data = { data: 1 };

    const list1 = document.getElementById("eventpend");
    const list2 = document.getElementById("eventaprovated");
    const list3 = document.getElementById("eventre");
    const list4 = document.getElementById("eventcomplete");

    function clickButton() {
        document.querySelector('#mostrarevent').click();
    }

    setTimeout(clickButton, 1000);

        function mostrar() {
            let url = "@Url.Action("Evento", "Home")";

            $.post({
                url, data})
                .fail(function () {
                    alert("error");
                })
                .done(function (data) {
                    // variables modal
                    console.log(data);
                    for (var i in data.data) {
                        console.log(data.data[i])
                        if (data.data[i].Transporte == "C") {
                            var tr = "Si";
                        } else tr = "No";
                        if (data.data[i].estado == 1) {
                            list1.innerHTML += `<div id="cardtext" class="container bg-light text-center shadow-lg">
                                                <div class="card-header bg-secondary bg-gradient">
                                                    <h3 class="text-black">
                                                        Evento:
                                                    </h3>
                                                </div>
                                                <div class="card-body row">
                                                    <div class="row">
                                                        <img class="img-fluid" style="max-width: 100%;max-height:15em" src="https://img.freepik.com/foto-gratis/empresario-corporativo-dando-presentacion-gran-audiencia_53876-101865.jpg" alt="Alternate Text" />
                                                    </div>
                                                    <div class="row mt-2">
                                                        <div class="d-flex" style="flex-flow: wrap row;>
                    }
                                                            <p class="card-text text-black me-2">Nombre:${data.data[i].Nombre}</p>
                                                            <p class="card-text text-black me-2">Fecha:${data.data[i].Fecha}</p>
                                                            <p class="card-text text-black me-2">Lugar:${data.data[i].LugarEvento}</p>
                                                             <p class="card-text text-black me-2">Transporte:${tr}</p>
                                                            <a href="#" class=" me-2 btn btn-primary">Aprobar</a>
                                                            <a href="#" class="me-2 btn btn-danger">Descartar</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-footer text-muted">
                                                    2 days ago
                                                </div>
                                            </div>`;
                        } else if (data.data[i].estado == 2) {
                            list2.innerHTML += `<div id="cardtext" class="container bg-light text-center shadow-lg">
                                                <div class="card-header bg-secondary bg-gradient">
                                                    <h3 class="text-black">
                                                        Evento:
                                                    </h3>
                                                </div>
                                                <div class="card-body row">
                                                    <div class="row">
                                                        <img class="img-fluid" style="max-width: 100%;max-height:15em" src="https://img.freepik.com/foto-gratis/empresario-corporativo-dando-presentacion-gran-audiencia_53876-101865.jpg" alt="Alternate Text" />
                                                    </div>
                                                    <div class="row mt-2">
                                                        <div class="d-flex" style="flex-flow: wrap row;>
                    }
                                                            <p class="card-text text-black me-2">Nombre:${data.data[i].Nombre}</p>
                                                            <p class="card-text text-black me-2">Fecha:${data.data[i].Fecha}</p>
                                                            <p class="card-text text-black me-2">Lugar:${data.data[i].LugarEvento}</p>
                                                             <p class="card-text text-black me-2">Transporte:${tr}</p>
                                                            <a href="#" class=" me-2 btn btn-primary">Aprobar</a>
                                                            <a href="#" class="me-2 btn btn-danger">Descartar</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-footer text-muted">
                                                    2 days ago
                                                </div>
                                            </div>`;
                        } else if (data.data[i].estado == 3) {
                            list3.innerHTML += `<div id="cardtext" class="container bg-light text-center shadow-lg">
                                                <div class="card-header bg-secondary bg-gradient">
                                                    <h3 class="text-black">
                                                        Evento:
                                                    </h3>
                                                </div>
                                                <div class="card-body row">
                                                    <div class="row">
                                                        <img class="img-fluid" style="max-width: 100%;max-height:15em" src="https://img.freepik.com/foto-gratis/empresario-corporativo-dando-presentacion-gran-audiencia_53876-101865.jpg" alt="Alternate Text" />
                                                    </div>
                                                    <div class="row mt-2">
                                                        <div class="d-flex" style="flex-flow: wrap row;>
                    }
                                                            <p class="card-text text-black me-2">Nombre:${data.data[i].Nombre}</p>
                                                            <p class="card-text text-black me-2">Fecha:${data.data[i].Fecha}</p>
                                                            <p class="card-text text-black me-2">Lugar:${data.data[i].LugarEvento}</p>
                                                             <p class="card-text text-black me-2">Transporte:${tr}</p>
                                                            <a href="#" class=" me-2 btn btn-primary">Aprobar</a>
                                                            <a href="#" class="me-2 btn btn-danger">Descartar</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-footer text-muted">
                                                    2 days ago
                                                </div>
                                            </div>`;
                        } else {
                            list4.innerHTML += `<div id="cardtext" class="container bg-light text-center shadow-lg">
                                                <div class="card-header bg-secondary bg-gradient">
                                                    <h3 class="text-black">
                                                        Evento:
                                                    </h3>
                                                </div>
                                                <div class="card-body row">
                                                    <div class="row">
                                                        <img class="img-fluid" style="max-width: 100%;max-height:15em" src="https://img.freepik.com/foto-gratis/empresario-corporativo-dando-presentacion-gran-audiencia_53876-101865.jpg" alt="Alternate Text" />
                                                    </div>
                                                    <div class="row mt-2">
                                                        <div class="d-flex" style="flex-flow: wrap row;>
                    }
                                                            <p class="card-text text-black me-2">Nombre:${data.data[i].Nombre}</p>
                                                            <p class="card-text text-black me-2">Fecha:${data.data[i].Fecha}</p>
                                                            <p class="card-text text-black me-2">Lugar:${data.data[i].LugarEvento}</p>
                                                             <p class="card-text text-black me-2">Transporte:${tr}</p>
                                                            <a href="#" class=" me-2 btn btn-primary">Aprobar</a>
                                                            <a href="#" class="me-2 btn btn-danger">Descartar</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-footer text-muted">
                                                    2 days ago
                                                </div>
                                            </div>`;
                        }
                       
                    }
                });
    }

    // Obtenemos los elementos de los botones y divs
    const boton1 = document.getElementById("btnradio1");
    const boton2 = document.getElementById("btnradio2");
    const boton3 = document.getElementById("btnradio3");
    const boton4 = document.getElementById("btnradio4");

    // Función para mostrar un div y ocultar los demás
    function mostrarDiv(div) {
        div.style.display = "block"; // Mostramos el div
        // Ocultamos los demás divs
        if (div !== list1) {
            list1.style.display = "none";
        }
        if (div !== list2) {
            list2.style.display = "none";
        }
        if (div !== list3) {
            list3.style.display = "none";
        }
        if (div !== list4) {
            list4.style.display = "none";
        }
    }
    // Agregamos el evento de clic a cada botón
    boton1.addEventListener("click", function () {
        mostrarDiv(list1);
    });
    boton2.addEventListener("click", function () {
        mostrarDiv(list2);
    });
    boton3.addEventListener("click", function () {
        mostrarDiv(list3);
    });
    boton4.addEventListener("click", function () {
        mostrarDiv(list4);
    });

</script>